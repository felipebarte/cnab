# Task ID: 36
# Title: Implementar Fluxo Completo CNAB-Check-Pagamento
# Status: pending
# Dependencies: 35
# Priority: high
# Description: Criar orquestração completa: extração barcode → check boleto → armazenar ID → executar pagamento
# Details:
- Extrair barcode do arquivo CNAB processado
- Fazer check do boleto na API Swap usando barcode
- Armazenar ID retornado pelo check
- Executar pagamento usando ID do boleto
- Implementar tratamento de erros em cada etapa

# Test Strategy:


# Subtasks:
## 1. Mapear Dados entre Check e Pagamento [pending]
### Dependencies: None
### Description: Garantir que dados do check sejam preservados para pagamento
### Details:
Preservar: boletoId, amount, payer_document, due_date, status

## 2. Implementar Validações Pré-Pagamento [pending]
### Dependencies: None
### Description: Validar se boleto pode ser pago antes de executar pagamento
### Details:
Verificar: status="pending_payment", dentro da janela de pagamento, valor válido

## 3. Criar Logs Detalhados do Fluxo [pending]
### Dependencies: None
### Description: Implementar logging completo de cada etapa do processo
### Details:
Logs: barcode extraído, check executado, ID recebido, pagamento iniciado, resultado

